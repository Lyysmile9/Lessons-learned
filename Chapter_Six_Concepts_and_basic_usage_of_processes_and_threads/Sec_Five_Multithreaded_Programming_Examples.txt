实现线程的函数
	创建新线程：pthread_create
	终止线程：pthread_exit
	合并线程：pthread_join

创建新线程
	#include <pthread.h>

	int pthread_create(
		pthread_t* thread,		//指向线程标识符的指针
		pthread_attr* attr,		//设置线程属性
		void *(*func)(void*),		//新线程将启动的函数的地址
		void* arg			//新线程将启动的函数的参数
	)
	函数执行成功返回0，失败返回错误码。
	执行成功后，新线程将从设定的函数处开始执行，原线程则继续执行。

退出线程
	#include <pthread.h>
	void pthread_exit(void* ret)
	终止调用此函数的线程，并返回一个指向某对象的指针(ret)。
	注意，不能返回指向局部变量的指针。

合并线程
	#include <pthread.h>
	int pthread_join(pthread_t* thread, void **ret);
	等价于进程中用于收集子进程的wait()函数，thread是要等待的线程
	(即通过pthread_create函数返回的线程标识符)，ret是一个二级指针，
	它指向一个指针，后者指向线程的返回值
	函数执行成功时返回0，失败时返回错误码。

例：
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>
#include <pthread.h>
void *thread_function(void * arg);
char message[] = "Hello World";

int main()
{
	int res;
	pthread_t a_thread;
	void *thread_result;
	res = pthread_create(&a_thread, NULL,
		thread_function, (void*)message)
	if(res != 0)
	{
		perror("Thread creation failed");
		exit()EXIT_FAILURE;
	}
	printf("Waiting for thread to finish...\n");
	
	res = pthread_join(a_thread, &thread_result);
	if(res != 0)
	{
		perror("Thread join failed\n");
		exit(EXIT_FAILURE);
	}
	printf("Thread joined, it returned%s\n", (char*)thread_result); //Thank you for the CPU time
	printf("Message is now %s\n", message);	//Bye!
	exit(EXIT_SUCCESS);
}

void *thread_function(void *arg)
{
	printf("thread_function is running.Argument was %s\n", (char *)arg);
	sleep(3);
	strcpy(message, "Bye!");
	pthread_exit("Thank you for the CPU time");
}
运行结果：
	Waiting for thread to finish...
	thread function is running.Argument was Hello World
	Thread joined, it returned Thank you for the CPU time
	Message is now Bye!

进一步讨论pthread_join()
	pthread_join的功能是等待某线程结束，并收集其返回值。
	初始线程结束后(从main函数返回)，整个进程即结束，导致进程内所有线程全部终止。
	在主线程中调用pthread_exit,进程将等待所有线程结束后才终止。
